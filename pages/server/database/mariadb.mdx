import {
  DiscordEmbedDescription,
  DiscordMessages,
  DiscordMessage,
  DiscordEmbed,
  DiscordEmbedField,
  DiscordEmbedFields,
  DiscordEmbedFooter,
} from "@skyra/discord-components-react";

# What is MariaDB?

[MariaDB](https://mariadb.org/) is a community-developed, commercially supported fork of the MySQL relational database management system (RDBMS), intended to remain free and open-source software under the GNU General Public License. Development is led by some of the original developers of MySQL, who forked it due to concerns over its acquisition by Oracle Corporation in 2009.

<Redirect
  href="https://en.wikipedia.org/wiki/MariaDB"
  label="Source: Wikipedia"
/>

# Creating the server

To create a server, we suppose that you've already [created and linked an account into the panel](/getting-started).

In that case, go to DBH server and run this command:

For a free server:

        <DiscordMessages>
          <DiscordMessage
            author="Jonfirexbox"
            avatar="https://avatars.githubusercontent.com/u/66625200?v=4"
            roleColor="#00cfff"
            roleName="Client"
          >
            DBH!server create mariadb [optional server name]
          </DiscordMessage>
          <DiscordMessage
            author="DanBot Hosting"
            avatar="https://images-ext-1.discordapp.net/external/9j2_RacvCl8mly7hALccyH0PsM-tbJYm8twQKGf_3jY/https/cdn.discordapp.com/avatars/640161047671603205/718aa5783508125a02e3b244a1bf096e.png"
            roleColor="#0329d3"
            bot={true}
            verified={false}
          >
            <DiscordEmbed slot="embeds" color="#00FF00" embed-title="Server Successfully Created">
    					  <DiscordEmbedDescription slot="description">
    						Click Here to Access Your Server
    						</DiscordEmbedDescription>
    						<DiscordEmbedFields slot="fields">
                <DiscordEmbedField fieldTitle="Status:" inline inline-index="1">
                  {' '}
                  Created{' '}
                </DiscordEmbedField>
                <DiscordEmbedField fieldTitle="User ID:" inline inline-index="2">
                  {' '}
                  126{' '}
                </DiscordEmbedField>
                <DiscordEmbedField fieldTitle="Type:" inline inline-index="3">
                  {' '}
                  mariadb{' '}
                </DiscordEmbedField>
                <DiscordEmbedField fieldTitle="Server Name:">
                  {' '}
                  Untitled Server (settings -> server name){' '}
                </DiscordEmbedField>
              </DiscordEmbedFields>
    						<DiscordEmbedFooter
                slot="footer"
                footer-image="https://avatars.githubusercontent.com/u/66625200?v=4"
                timestamp={new Date()}
              >
                Command Executed By: jonfirexbox (856176853719187506)
              </DiscordEmbedFooter>
            </DiscordEmbed>
          </DiscordMessage>
        </DiscordMessages>

<br></br>
For a donator server:
<DiscordMessages>
  <DiscordMessage
    author="Jonfirexbox"
    avatar="https://avatars.githubusercontent.com/u/66625200?v=4"
    roleName="Donator"
    roleColor="#ff00a0"
    roleIcon="https://images-ext-1.discordapp.net/external/jcxosamsnMQwF-XU7dDsYt5Mz_ti0BRJc5pzpGSDPQ0/https/cdn.discordapp.com/role-icons/898041754564046869/576cbb697c65c8fffe1df17961401d8b.png?format=webp&quality=lossless"
  >
    DBH!server create-donator mariadb [optional server name]
  </DiscordMessage>
  <DiscordMessage
    author="DanBot Hosting"
    avatar="https://images-ext-1.discordapp.net/external/9j2_RacvCl8mly7hALccyH0PsM-tbJYm8twQKGf_3jY/https/cdn.discordapp.com/avatars/640161047671603205/718aa5783508125a02e3b244a1bf096e.png"
    roleColor="#0329d3"
    bot={true}
    verified={false}
  >
    <DiscordEmbed
      slot="embeds"
      color="#00FF00"
      embed-title="Server Successfully Created"
    >
      <DiscordEmbedDescription slot="description">
        Click Here to Access Your Server
      </DiscordEmbedDescription>
      <DiscordEmbedFields slot="fields">
        <DiscordEmbedField fieldTitle="Status:" inline inline-index="1">
          {" "}
          Created{" "}
        </DiscordEmbedField>
        <DiscordEmbedField fieldTitle="User ID:" inline inline-index="2">
          {" "}
          126{" "}
        </DiscordEmbedField>
        <DiscordEmbedField fieldTitle="Type:" inline inline-index="3">
          {" "}
          mariadb{" "}
        </DiscordEmbedField>
        <DiscordEmbedField fieldTitle="Server Name:">
          {" "}
          Untitled Server (settings -> server name){" "}
        </DiscordEmbedField>
        <DiscordEmbedField fieldTitle="Slots Used:">
          {" "}
          (1 slot / 6 slots){" "}
        </DiscordEmbedField>
      </DiscordEmbedFields>
      <DiscordEmbedFooter
        slot="footer"
        footer-image="https://avatars.githubusercontent.com/u/66625200?v=4"
        timestamp={new Date()}
      >
        Command Executed By: jonfirexbox (856176853719187506)
      </DiscordEmbedFooter>
    </DiscordEmbed>
  </DiscordMessage>
</DiscordMessages>

# Connect to the database

In order to connect to your fresh created database start the server and use the following link:

```text
jdbc:mariadb://localhost:3306/DB?user=root&password=myPassword
```

## Fields

The link given above isn't enough for you to connect to the database, now you have to modify it to actually connect to the database.

### Node

"nX" in "nX.danbot.host" is replaced with your server's node. It can be:

| Free Node | Domain             |
| :-------- | :----------------- |
| PNode 1   | pnode1.danbot.host |
| PNode 2   | pnode2.danbot.host |
| PNode 3   | pnode3.danbot.host |

| Donator Node | Domain              |
| :----------- | :------------------ |
| Dono 01      | dono-01.danbot.host |
| Dono 03      | dono-03.danbot.host |

### Create DB

First you will need to run:

```text
CREATE DATABASE dbhDB;
```

in your servers console.

### Create user and password

Then we will run this next command:

```text
CREATE USER "DBHMariaDB"@"your_allowed_ipaddr" IDENTIFIED BY "Dbh!sTheBest!@";
```

<Tip>
Please note: You **need** to use the nodes actual IP address, using the domain won't work

Also: Please note that `your_allowed_ipaddr` is the IP of the node that your server is hosted on. If it's on a same node, use Docker local IP `172.17.0.1`

</Tip>

### Grand all privileges

This is a very import step as this allows you to access the DB:

```text
GRANT ALL PRIVILEGES ON dbhDB.* TO "DBHMariaDB"@"88.99.138.239";
```

And last thing you need to run is:

```text
FLUSH PRIVILEGES;
```

### Port

"port" is your server's port that can be found in the main page.

<Tip>
  Make sure to change your `port` in `.my.cnf` to your server port, include the
  double ticks when executing the command.
</Tip>

## Final result

As soon as you finished with the link it should look like this:

```text
jdbc:mariadb://pnode1.danbot.host:3306/DB?user=DBHMariaDB&password=Dbh!sTheBest!@
```

<Tip>Please note: If you did miss a step this will not work!</Tip>

# Conclusion

Now you can deal with MySQL database. To find out more about MariaDB visit their documentation website!

<Redirect href="https://mariadb.org/documentation/" label="MariaDB Docs" />
