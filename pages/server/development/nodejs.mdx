import {
  DiscordEmbedDescription,
  DiscordMessages,
  DiscordMessage,
  DiscordEmbed,
  DiscordEmbedField,
  DiscordEmbedFields,
  DiscordEmbedFooter,
} from "@skyra/discord-components-react";

# What is Node.js?

[Node.js](https://nodejs.org) is an open-source, cross-platform, back-end JavaScript runtime environment that runs on the V8 engine and executes JavaScript code outside a web browser. Node.js lets developers use JavaScript to write command line tools and for server-side scriptingâ€”running scripts server-side to produce dynamic web page content before the page is sent to the user's web browser. [Source: Wikipedia](https://en.wikipedia.org/wiki/Node.js)

In this document we will show you how to create one, install dependencies and upload your files.

<Tip>
  If you are going to host a Discord bot, we recommend you using
  [RedDiscordBot](/server/rdb) if you don't know how to code. If you know how to
  code but don't know how to code a Discord.js bot, visit [this
  web](https://discordjs.guide).
</Tip>

# Creating the server

To create a server, we suppose that you've already [created and linked an account into the panel.](/getting-started)

In that case, go to DBH server and run this command:

For a free server:


        <DiscordMessages>
          <DiscordMessage
            author="Jonfirexbox"
            avatar="https://avatars.githubusercontent.com/u/66625200?v=4"
            roleColor="#00cfff"
            roleName="Client"
          >
            DBH!server create nodejs [optional server name]
          </DiscordMessage>
          <DiscordMessage
            author="DanBot Hosting"
            avatar="https://images-ext-1.discordapp.net/external/9j2_RacvCl8mly7hALccyH0PsM-tbJYm8twQKGf_3jY/https/cdn.discordapp.com/avatars/640161047671603205/718aa5783508125a02e3b244a1bf096e.png"
            roleColor="#0329d3"
            bot={true}
            verified={false}
          >
            <DiscordEmbed slot="embeds" color="#00FF00" embed-title="Server Successfully Created">
						  <DiscordEmbedDescription slot="description">
							Click Here to Access Your Server
							</DiscordEmbedDescription>
							<DiscordEmbedFields slot="fields">
                <DiscordEmbedField fieldTitle="Status:" inline inline-index="1">
                  {' '}
                  Created{' '}
                </DiscordEmbedField>
                <DiscordEmbedField fieldTitle="User ID:" inline inline-index="2">
                  {' '}
                  126{' '}
                </DiscordEmbedField>
                <DiscordEmbedField fieldTitle="Type:" inline inline-index="3">
                  {' '}
                  influxdb{' '}
                </DiscordEmbedField>
                <DiscordEmbedField fieldTitle="Server Name:" inline inline-index="4">
                  {' '}
                  Untitled Server (settings -> server name){' '}
                </DiscordEmbedField>
              </DiscordEmbedFields>
							<DiscordEmbedFooter
                slot="footer"
                footer-image="https://avatars.githubusercontent.com/u/66625200?v=4"
                timestamp={new Date()}
              >
                Command Executed By: jonfirexbox (856176853719187506)
              </DiscordEmbedFooter>
            </DiscordEmbed>
          </DiscordMessage>
        </DiscordMessages>
<br></br>
For a donator server:
        <DiscordMessages>
         <DiscordMessage
          author="Jonfirexbox"
          avatar="https://avatars.githubusercontent.com/u/66625200?v=4"
          roleName="Donator"
          roleColor="#ff00a0"
          roleIcon="https://images-ext-1.discordapp.net/external/jcxosamsnMQwF-XU7dDsYt5Mz_ti0BRJc5pzpGSDPQ0/https/cdn.discordapp.com/role-icons/898041754564046869/576cbb697c65c8fffe1df17961401d8b.png?format=webp&quality=lossless"
          >
           DBH!server create-donator nodejs [optional server name]
          </DiscordMessage>
          <DiscordMessage
            author="DanBot Hosting"
            avatar="https://images-ext-1.discordapp.net/external/9j2_RacvCl8mly7hALccyH0PsM-tbJYm8twQKGf_3jY/https/cdn.discordapp.com/avatars/640161047671603205/718aa5783508125a02e3b244a1bf096e.png"
            roleColor="#0329d3"
            bot={true}
            verified={false}
          >
            <DiscordEmbed slot="embeds" color="#00FF00" embed-title="Server Successfully Created">
						  <DiscordEmbedDescription slot="description">
							Click Here to Access Your Server
							</DiscordEmbedDescription>
							<DiscordEmbedFields slot="fields">
                <DiscordEmbedField fieldTitle="Status:" inline inline-index="1">
                  {' '}
                  Created{' '}
                </DiscordEmbedField>
                <DiscordEmbedField fieldTitle="User ID:" inline inline-index="2">
                  {' '}
                  126{' '}
                </DiscordEmbedField>
                <DiscordEmbedField fieldTitle="Type:" inline inline-index="3">
                  {' '}
                  influxdb{' '}
                </DiscordEmbedField>
                <DiscordEmbedField fieldTitle="Server Name:" inline inline-index="4">
                  {' '}
                  Untitled Server (settings -> server name){' '}
                </DiscordEmbedField>
								<DiscordEmbedField fieldTitle="Slots Used:">
                  {' '}
                  (1 slot / 6 slots){' '}
                </DiscordEmbedField>
              </DiscordEmbedFields>
							<DiscordEmbedFooter
                slot="footer"
                footer-image="https://avatars.githubusercontent.com/u/66625200?v=4"
                timestamp={new Date()}
              >
                Command Executed By: jonfirexbox (856176853719187506)
              </DiscordEmbedFooter>
            </DiscordEmbed>
          </DiscordMessage>
        </DiscordMessages>

# Configuration

## 1. Adding package.json

If you are going to install dependencies into the server, which most likely you will, we are going to show you 2 methods to create a package.json file. **(If you already have created one into your project skip this step)**

### Creating the file manually (recommended if you only want to install dependencies)

Log in into the [panel](https://panel.danbot.host), go to your server, then open the server's files by clicking the folder icon (fig. 1) on the left bar. You now should be in this empty page:

![panel showing empty server files](/content/nodejs/file-manager.png)

Now click in New File (fig. 2). Now you can create a new file. Give it the name of `package.json` and insert this code (replace it with your own dependencies):

```json
{
  "dependencies": {
    "dependency": "1.0.0",
    "another-one": "3.2.1"
  }
}
```

Then save the file and you're ready to continue with the next step.

<Tip>
  JSON formatting must be strictly followed! If you faced an issue related to
  installing any modules consider validating your `package.json` file with any
  [JSON formatter](//jsonformatter.curiousconcept.com/#)
</Tip>

### Creating the file via `npm init` (recommended if you want to set package.json with all the fields)

Please make sure to have installed [node and npm](https://nodejs.org) first. Then, in your computer, press Win + R, and type `cmd`. In the Command Prompt, type `cd Desktop` then Enter, and then `npm init` then Enter again. With this commands you will going to create a package.json file into your desktop. Now you should see this prompt:

![A cmd prompt that has executed npm init](/content/nodejs/npm-init.png)

Now you need to type the fields that the prompt asks you. Press Enter once you filled a field to fill the next one.

<Tip label="Pro Tip">
  The text that is between brackets is the default value, so if you don't type
  anything it will automatically put that value into the file.
</Tip>

Once you have filled everything, a package.json file should appear in your desktop.

Now, log in into the [panel](https://panel.danbot.host), go to your server, then open the server's files by clicking the folder icon (fig. 1) on the left bar. You now should be in this empty page:

![panel showing empty server files](/content/nodejs/file-manager.png)

(Please ignore fig. 2)

Now click on upload and select that file, or drag the file from the desktop to the web.

And, finally if you want to add dependencies to your package.json file please check _Creating a package.json file manually_.

## 2. Uploading or creating your code files

<Tip label="Pro Tip">
  If you are going to open a port, you can only open one. To get that port use
  `process.env.SERVER_PORT`.
</Tip>

### Create from scratch

If you don't have anything coded yet, and you want to code it by the way, go to the panel, your server and then files. There you have three buttons: Create directory, Upload, and New File. Click New File. There you can code your app.

When you finish coding, put the file's name `index.js` and save.

And you're done!

### Upload the code files

If you already made a bot and you just want to upload it, you need to Compress it (into a .zip, or .tar.gz file) and then upload. **Make sure to not upload `node_modules` folder as they are going to get installed automatically into the server.** Then when the upload finished, click the 3 dots on the file and click the "uncompress" option. **Make sure that index.js is in the root folder.**

If it's just a file just upload it.

# Conclusion

And here's the end of the document! Please consider on opening a PR into our Github repository.

<Redirect
  href="https://github.com/DanBot-Hosting/DBH-Docs/pulls/"
  label="Documentation: Github"
/>
